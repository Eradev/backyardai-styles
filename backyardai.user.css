/* ==UserStyle==
@name           backyard.ai/chat
@namespace      github.com/eradev
@version        1.0.0
@description    Styles for backyard.ai/chat
@author         Eradev
@updateURL      https://raw.githubusercontent.com/Eradev/backyardai-styles/master/backyardai.user.css
@preprocessor   stylus

@var color colorChatBackground "Chat background color"       #1c2123
@var color colorPlainText      "Plain text color"            #cfd8db
@var color colorQuotesText     "Quotes text color"           #f1dbbd
@var color colorAsterisksText  "Asterisks text color"        #a5c7e6

@var text sizeCharPics         "Character pics size"         40px
@var checkbox keepRatio        "Keep character pic ratio"    0
@var checkbox addAsterisks     "Add asterisks"               0
@var checkbox editAlignBottom  "Align edit button to bottom" 0

==/UserStyle== */

@-moz-document url-prefix(backyard.ai/chat) {
    .r-1aockid {
        width: sizeCharPics;
            
        /* Ratio */
        if keepRatio {
            div:has(> img.css-1kxu1sd)  {
                aspect-ratio: auto !important;
            }
       }
    }
    
    /* Align edit button to bottom */
    if editAlignBottom {
        div:has(>.css-175oi2r.r-eqz5dr.r-1wbh5a2.r-dnmrzs) {
            div.css-175oi2r:has(> .css-175oi2r.r-1loqt21.r-1otgn73):not(:has(> .r-k200y)):not(.r-aaxvxr) {
                    align-self: flex-end;
            }
        }
    }

    /* Chat bubbles */
    .css-175oi2r.r-eqz5dr.r-1wbh5a2.r-dnmrzs {
        /* Background */
        .r-15rkbz5 {
            background-color: colorChatBackground;
        }

        /* Plain-text */
        .r-zsjf4b {
            color: colorPlainText;
        }

        /* Between quotes (" ") */
        .r-mrp6qo {
            color: colorQuotesText;
        }

        /* Between asterisks (* *) */
        .r-1b1ke60 {
            color: colorAsterisksText;
                
            /* Add asterisks back */
            if addAsterisks {
                &:before {
                    content: '*';
                }

                &:after {
                    content: '*';
                }
            }
        }
    }
}
